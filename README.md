# 伊伊秒傷小幫手

🎮 《**Artale**》DPS 統計工具，
即時 OCR 擷取畫面，自動分析對BOSS的傷害效率，提供遊戲內 HUD 顯示功能。

![screenshot](https://media.discordapp.net/attachments/1383994395262586880/1394719865071210557/image.png?ex=6877d598&is=68768418&hm=c9c90616459e90d918da3ec8dba1f180575e5f0f5e8d538daf93426c2750fbb8&=&format=webp&quality=lossless&width=785&height=434)


---

## ✨ 功能特色
- 📷 自訂畫面偵測區域（EXP 數值所在區塊）
- 🔍 即時 OCR 辨識畫面 EXP 數字
- 💬 即時系統訊息：操作提示、錯誤資訊、OCR 狀態等會即時顯示於畫面
- 📈 實時統計：
  - 目前DPS (Damage Per Second)
  - 總傷害（Total Damage）
  - 統計時間
  - 預計擊殺剩餘時間
- 🎮 **遊戲模式浮動 HUD：**
  - 支援自由拖曳與縮放
- [⌨️ 支援快捷鍵操作（可自訂）](#shortcut-settings)
  - `F7`：選取範圍
  - `F8`：重置統計  
  - `F9`：切換遊戲模式（HUD 開/關）
  - `F10`：截圖遊戲模式統計資料
- 💾 自動儲存設定（偵測區域、視窗位置）
- 📤 匯出功能：可將統計資料另存為 `.csv` 檔案
- 🛡️ 外部畫面偵測，無注入、零風險，安心使用
- 💡 資源占用低：不吃效能，適合長時間穩定使用

---

## 📦 下載與安裝

前往 [Releases 頁面](https://github.com/Rin2ec/artale-dps-helper/releases) 下載最新版本：

| 檔案類型 | 下載連結 |
|----------|-----------|
| 🗂️ 免安裝版 | [伊伊秒傷小幫手-v1.0.0.zip](https://drive.google.com/file/d/1MScYjopUOhAbjWYYcQfwYEJLTg6wjfW-/view?usp=sharing) |

> 僅支援 Windows 10 / 11，建議使用全螢幕視窗模式執行遊戲。

---

## 🚀 快速開始

1. 執行應用程式 `伊伊秒傷小幫手.exe`
2. 按下「開始」或「 F7 」框選 **怪名與血量** 區塊  
   ⚠️ **請記得右邊留點空間（大約 2～3 位數）**，避免換BOSS位數從 `100` 升到 `1000` 時被裁掉，影響偵測。
3. 按下「遊戲模式」或「 F9 」 進入遊戲模式顯示浮動 HUD  
   🔍遊戲模式UI縮放方式：請點最下面或最右邊緣出現⭥或⭤ 在進行拖曳即可調整

---

## 🖥️ 系統需求

- ✅ 作業系統：Windows 10 / 11
- ✅ 建議設定：全螢幕視窗模式運行遊戲

---

## 🐞 已知問題

- ORC辨識因素可能會導致總傷偏高

---

## ⚙️ 自動統計與擊殺判定機制

### 🟢 自動啟動統計
當符合以下條件時，系統會自動啟動 DPS 統計，無需手動點擊「開始」按鈕：

- 成功 OCR 擷取到第一筆有效血量
- 血量開始下降（代表 BOSS 正在受傷）
- 系統未處於暫停或等待狀態中

> ✅ 當框選區域完成後，系統會自動進入監控狀態，無須額外操作。

---

### 🔚 擊殺完成判定
當出現以下狀況時，系統會自動判定為 **BOSS 擊殺完成**，並暫停統計：

- 偵測區域無法擷取到有效血量（如數值為 0 或格式異常）
- 血量長時間未更新或消失（代表畫面回到非戰鬥狀態）
- 連續數秒未偵測到血量變化（系統進入「等待重置」狀態）

> 🧠 擊殺後會暫停統計，避免與下一場混淆。

---

### 🔁 重置統計提醒
每場戰鬥結束後，**請務必手動按下「重置」**（或按下快捷鍵 `F8`），才能讓下一場戰鬥重新開始統計。

> ⚠️ 若未手動重置，系統將維持暫停狀態，無法記錄新一輪統計數據。

---

## 🚫 異常資料排除機制

為確保秒傷數據準確，會自動排除下列 OCR 異常判斷條件，以防止錯誤資料影響統計：

### 📉 排除條件

當出現以下任一情況時，該筆資料會標記為異常，並排除統計與圖表計算：

- ✅ **DPS 位數暴增 2 位以上**（例如：從 `500` ➜ `50000`）
- ✅ **血量位數暴增 2 位以上**（例如：從 `100000` ➜ `10000000`）
- ✅ **血量與 DPS 同時各暴增 1 位以上**

進行統計已超過 **30 秒後**，亦會偵測以下異常條件：

- ✅ **總傷害突然倍增**（成長超過前一筆的兩倍）
- ✅ **當前 DPS 為前一筆的兩倍以上**
- ✅ **血量位數變動異常（+1 位以上）**
- ✅ **DPS 位數變動異常（+1 位以上）**

---

### 🔁 排除處理方式

- ⛔ 該筆資料會被記錄，但不計入總傷害與 DPS 統計
- 🔄 若異常筆資料誤計入總傷害，系統會自動「回滾」扣除該次增量
- 📝 所有異常資料皆會標記為 `invalid`，可於 `.csv` 匯出中檢視

---

<h2 id="shortcut-settings">🔧 快捷鍵設定說明</h2>

可透過編輯 `config.json` 檔案，自訂應用程式的快捷鍵（支援組合鍵）。
例如將 `F8` 改為 `Ctrl+Q`，即可改變觸發「重置」功能的快捷鍵。

| 名稱         | 對應功能          |
| ------------ | ------------- |
| `selectArea` | 選取偵測區域        |
| `reset`      | 重置統計資料        |
| `toggleHud`  | 切換遊戲模式顯示（HUD） |
| `screenshot` | 截圖遊戲畫面        |

### 🗂 `config.json` 範例設定

```json
{
  "shortcuts": {
    "selectArea": "F7",
    "reset": "F8",
    "toggleHud": "F9",
    "screenshot": "F10"
  }
}
```

> 📍 `config.json` 設定檔與 伊伊秒傷小幫手.exe 於同層資料夾內
---

## 🧩 其他工具

| 工具名稱           | 功能簡介                           | 連結 |
|--------------------|------------------------------------|------|
| 🐱 **伊伊經驗小幫手** | 經驗計算工具  | [立即查看](https://github.com/Rin2ec/ee-exp-helper)|
| 🐱 **伊伊接技小幫手** | 鍵盤接招練習工具  | [立即查看](https://github.com/Rin2ec/ee-combo-helper)|
| ⏰ **BOSS 時間計算器** | 記錄並預測世界王出現時間               | [立即查看](https://rin2ec.github.io/ee-boss-respawn-timer/) |
| 🌐 **頻道紀錄查詢工具** | 簡易記錄遊戲頻道資訊       | [立即查看](https://rin2ec.github.io/ee-number-tool/)|
---

## 🧑‍💻 開發者

由 凜 開發  
📺 [Twitch 頻道](https://twitch.tv/shiyu2615)  
💬 Discord: `rin_ovob`  
歡迎在 [Discord](https://discord.com/invite/rpnsScZWpr) 上的「📊伊伊經驗秒傷小幫手」回報問題或提供建議 🙌  

---
